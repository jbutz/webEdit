<html>
<head>
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.6.4/jquery.min.js"></script>
	<script>
	$(document).ready(function()
	{
			var iFrameDoc = $("#testFrame")[0].contentWindow.document; // contentWindow works in IE7 and FF
			//var val = '<scr' + 'ipt type="text/javascript" src="http://jqueryjs.googlecode.com/files/jquery-1.3.2.min.js"></scr' + 'ipt>';
			//val += '<scr' + 'ipt type="text/javascript">'+$('#testJS').val()+'</scr' + 'ipt>';
			iFrameDoc.open();
			//iFrameDoc.write(val);
			iFrameDoc.close(); // must open and close document object to start using it!
		//$("body", iFrameDoc).css("background","white");
		$('#testBtn').click(function()
		{
			console.log($("#testHTML").val(),"Updating HTML");
			//$("head", iFrameDoc).append("<script src='https://ajax.googleapis.com/ajax/libs/jquery/1.6.4/jquery.min.js'></scr"+"ipt>")
			//$("head", iFrameDoc).append("<script>"+$('#testJS').val()+"</scr"+"ipt>")
			$("body", iFrameDoc).html($("#testHTML").val());
		});
		
		$('#editBtn, #editC').click(function()
		{
			$('#editWin').toggle();
		});
	});
	</script>
	<style>
	#testFrame {
		border-top-width: 0px;
		border-right-width: 0px; 
		border-bottom-width: 0px; 
		border-left-width: 0px; 
		border-style: initial; 
		border-color: initial; 
		/*z-index: 2147483647; */
		position: fixed;
		bottom: 0px; 
		height: 90%; 
		width: 100%;
		left: 0px; 
		visibility: visible; 
	}
	.veryTop {
		z-index: 2147483647;
	}
	#editWin {
		position: fixed;
		top: 0px;
		left: 0px;
		height: 400px;
		display: none;
	}
	body {
		background: #CCC;
	}
	</style>
</head>
<body>
<div id='editWin' class='veryTop'>
<textarea id="testHTML" cols="60" rows="20"></textarea>
<textarea id="testJS" cols="20" rows="10"></textarea>
<button id='testBtn'>TEST</button><button id='editC'>Close</button>
</div>
<button id='editBtn'>Edit</button>
<iframe src="about:blank" id="testFrame" frameborder="0"></iframe>
</body>
</html>
